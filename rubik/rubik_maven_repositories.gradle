def addRubikMavenRepos(RepositoryHandler handler) {
    if (useLocalMaven) {
        handler.maven {
            name 'local'
            url rubik_maven_local_repository
            allowInsecureProtocol = true
        }
    } else if(useGithubMaven){
        handler.maven {
            name 'github'
            url rubik_github_maven_repository
            credentials {
                username rubik_github_maven_username
                password rubik_github_maven_password
            }
            allowInsecureProtocol = true
        }
    } else {
        handler.maven {
            name 'remote'
            url rubik_maven_repository
            credentials {
                username rubik_maven_username
                password rubik_maven_password
            }
            allowInsecureProtocol = true
        }
    }
}

ext.addRubikMavenRepos = this.&addRubikMavenRepos